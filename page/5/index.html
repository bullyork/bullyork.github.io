<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="乱世天狼 | 前端 | html | css | html5 | css3 | react | redux | webpack | 哲学 | 精神 | 生活">
<meta property="og:type" content="website">
<meta property="og:title" content="缘来我们在这里">
<meta property="og:url" content="http://bullyork.github.io/page/5/index.html">
<meta property="og:site_name" content="缘来我们在这里">
<meta property="og:description" content="乱世天狼 | 前端 | html | css | html5 | css3 | react | redux | webpack | 哲学 | 精神 | 生活">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="缘来我们在这里">
<meta name="twitter:description" content="乱世天狼 | 前端 | html | css | html5 | css3 | react | redux | webpack | 哲学 | 精神 | 生活">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://bullyork.github.io/page/5/">





  <title>缘来我们在这里</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">缘来我们在这里</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">乱世天狼的博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/10/28/货币银行学05/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/28/货币银行学05/" itemprop="url">货币银行学05</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-28T16:24:53+08:00">
                2017-10-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>哀公问政</p>
<p>子曰：文武之政，布在方策。其人存，则其政举；其人亡，则其政息。</p>
<p>人道敏政，地道敏树。夫政也者，蒲卢也。</p>
<blockquote>
<p>为政就像种树，种下种子，以致蔚然成观。发展才是硬道理。</p>
</blockquote>
<p>故为政在人。取人以身。修身以道。修道以仁。</p>
<p>仁者，人也，亲亲为大。义者，宜也，尊贤为大。亲亲之杀，尊贤之等，礼所生也。</p>
<p>在下位，不获而上，民不可得而治矣。</p>
<p>故君子，不可以不修身。思修身，不可以不事亲。思事亲，不可以不知人。思知人，不可以不知天。</p>
<p>天下之达道五，所以行之者三，曰：君臣也、父子也、夫妇也、昆弟也、朋友之交也。五者天下之达道也。知、仁、勇三者，天下之达德也。所以行之者一也。</p>
<p>子曰：好学近乎知。力行近乎仁。知耻近乎勇。</p>
<p>知斯三者，则知所以修身。知所以修身，则知所以治人。知所以治人，则知所以治天下国家矣。</p>
<p>凡为国家有九经，曰：修身也、尊贤也、亲亲也、敬大臣也、体群臣也、子庶民也、来百工也、柔远人也、怀诸侯也。</p>
<p>修身，则道立。尊贤，则不惑。亲亲，则诸父昆弟不怨。敬大臣，则不眩。体群臣，则士之报礼重。子庶民，则百姓劝。来百工，则财用足。柔远人，则四方归之。怀诸侯，则天下畏之。</p>
<p>齐明盛服，非礼不动，所以修身也。去谗远色，贱货而贵德，所以劝贤也。尊其位，重其禄，同其好恶，所以劝亲亲也。官盛任使，所以劝大臣也。忠信重禄，所以劝士也。时使薄敛，所以劝百姓也。日省月试，既禀称事，所以劝百工也。嘉善而矜不能所以柔远人也。继绝世，举废国，治乱持危，朝聘以时，厚往而薄来，所以怀诸侯也。</p>
<p>凡为天下国家有九经，所以行之者一也。</p>
<p>凡事，豫则立，不豫则废。言前定，则不跲。事前定，则不困。行前定，则不疚。道前定，则不穷。</p>
<p>在下位不获乎上，民不可得而治矣。获乎上有道：不信乎朋友，不获乎上矣。信乎朋友有道：不顺乎亲，不信乎朋友矣。顺乎亲有道：反者身不诚，不顺乎亲矣。诚身有道：不明乎善，不诚乎身矣。</p>
<p>诚者，天之道也。诚之者，人之道也。诚者，不勉而中不思而得：从容中道，圣人也。诚之者，择善而固执之者也。</p>
<p>博学之，审问之，慎思之，明辨之，笃行之。</p>
<p>有弗学，学之弗能，弗措也。有弗问，问之弗知，弗措也。有弗思，思之弗得，弗措也。有弗辨，辨之弗明，弗措也。有弗行，行之弗笃，弗措也。人一能之，己百之。人十能之，己千之。</p>
<p>果能此道矣，虽愚必明，虽柔必强。</p>
<p>– 《中庸》</p>
<h2 id="商业银行：业务与管理"><a href="#商业银行：业务与管理" class="headerlink" title="商业银行：业务与管理"></a>商业银行：业务与管理</h2><h3 id="商业银行的历史和发展趋势"><a href="#商业银行的历史和发展趋势" class="headerlink" title="商业银行的历史和发展趋势"></a>商业银行的历史和发展趋势</h3><p>2000年前的巴比伦，古代的希腊和罗马，已经有了银钱业主和货币兑换商。现代意义的银行起源于文艺复兴时期的意大利。1694年，英国出现了第一家股份制商业银行 – 英格兰银行。</p>
<p>第二次世界大战之后，西方商业银行的业务和经营发生了深刻的变化：集中化，全能化，电子化和国际化趋势明显。</p>
<p><em>中国的银行业</em></p>
<p>中国银钱业大量记载出现在唐朝，北宋的时候，四川出现了世界上最早的纸币。明清两代，钱庄，银号，票号先后兴起。</p>
<p>第一家：1845年英国丽如银行在广东开设分行</p>
<p>第一家自办：1897年上海设立的中国通商银行</p>
<p>第一家中央银行：1904年北京设立的官商合办的户部银行，1908年改称大清银行，1912年改组为中国银行。</p>
<p>国民政府时期，四行两局一库：中央银行，中国银行，交通银行，中国农民银行，中央信托局，邮政储蓄汇业局，中央合作金库。</p>
<p>目前中国的银行体系是由中央银行，政策性银行，国有独资商业银行，股份制银行，合作银行和外资银行共同组成的。</p>
<h3 id="商业银行的资产、负债与资本"><a href="#商业银行的资产、负债与资本" class="headerlink" title="商业银行的资产、负债与资本"></a>商业银行的资产、负债与资本</h3><p>资产总额 = 负债总额 + 银行资本</p>
<h4 id="资产"><a href="#资产" class="headerlink" title="资产"></a>资产</h4><ol>
<li><p>准备金：商业银行为应付日常的提款要求而保留的流动性最高的资产。它由银行的库存现金（商业银行保留在保险柜中的现金）和商业银行在中央银行的存款两部分组成，其中后者占主要部分。超过法定准备金的那部分叫做超额准备金。</p>
</li>
<li><p>收款过程中的现金：它是指在支票清算过程中，已记入商业银行的负债，但商业银行还未收到的那部分资金。</p>
</li>
<li><p>在其他银行的存款（同业存款）</p>
</li>
</ol>
<blockquote>
<p>上述资产通常被合称为‘现金项目’。现金项目的流动性最高，是商业银行的一级储备。</p>
</blockquote>
<ol start="4">
<li><p>证券：证券投资是银行重要的收入来源之一。主要投资各种债券。1，灵活运用闲置资金，获取收益。2，加强流动性。3，降低风险</p>
</li>
<li><p>贷款：贷款是流动性比较低的一种银行资产。相应地，利率也是最高的。贷款从不同角度可以有不同的划分。按照贷款的期限：短期贷款（1年内），中期贷款（1-5年），长期贷款（5年以上）。保障形式：信用贷款，担保贷款，票据贴现贷款。占用形态：正常贷款，逾期贷款，呆滞贷款和呆帐贷款（后三种为不良贷款）。</p>
</li>
<li><p>其他资产：包括实物资产（建筑，设备）等。</p>
</li>
</ol>
<h4 id="负债"><a href="#负债" class="headerlink" title="负债"></a>负债</h4><p>负债代表商业银行的资金来源，与此相关的业务称之为负债业务。</p>
<ol>
<li>支票存款：不付息的活期存款，有息的可转让提款单存款和超级可转让提款单存款，货币市场存款账户。</li>
<li>非交易存款：储蓄存款，小额定期存款，大额定期存款。</li>
<li>借款：商业银行可以向中央银行，其他商业银行或者企业借款。从中央银行借款称为贴现贷款，从其它银行或者金融机构的借贷称为同行拆借。商业银行向企业借款通常使用证券回购协议。</li>
</ol>
<h4 id="银行资本"><a href="#银行资本" class="headerlink" title="银行资本"></a>银行资本</h4><p>银行资本 = 银行总资产 - 银行总负债</p>
<p>银行资本代表了商业银行所有者的净财富。</p>
<p>当它为负值或零，银行便资不抵债。</p>
<p>银行资本大体包括以下几种类型：</p>
<ul>
<li>股本</li>
<li>资本盈余</li>
<li>未分配利润</li>
<li>补偿性准备金</li>
<li>从属债务</li>
</ul>
<h3 id="商业银行的中间业务和表外业务"><a href="#商业银行的中间业务和表外业务" class="headerlink" title="商业银行的中间业务和表外业务"></a>商业银行的中间业务和表外业务</h3><h4 id="中间业务"><a href="#中间业务" class="headerlink" title="中间业务"></a>中间业务</h4><p>所谓中间业务是指商业银行以中介人的身份代客户办理各种委托事项，并从中收取手续费的业务。</p>
<p>重要包括：结算业务、租赁业务、信托业务、代理业务、信用卡业务、代保管业务和信息咨询业务</p>
<h4 id="表外业务"><a href="#表外业务" class="headerlink" title="表外业务"></a>表外业务</h4><p><em>贸易融通业务</em></p>
<ul>
<li>银行承兑业务</li>
<li>商业信用证业务</li>
</ul>
<p><em>金融保证业务</em></p>
<ul>
<li>备用信用证业务</li>
<li>贷款承诺业务</li>
<li>贷款销售业务</li>
</ul>
<p><em>衍生工具交易</em></p>
<ul>
<li>远期交易</li>
<li>期货交易</li>
<li>期权交易</li>
<li>互换协议</li>
</ul>
<h3 id="商业银行的管理"><a href="#商业银行的管理" class="headerlink" title="商业银行的管理"></a>商业银行的管理</h3><h4 id="商业银行管理的一般原则"><a href="#商业银行管理的一般原则" class="headerlink" title="商业银行管理的一般原则"></a>商业银行管理的一般原则</h4><ul>
<li>安全性原则</li>
<li>流动性原则</li>
<li>盈利性原则</li>
</ul>
<h4 id="资产管理"><a href="#资产管理" class="headerlink" title="资产管理"></a>资产管理</h4><ol>
<li>在满足流动性要求的前提下，力图使多余的现金资产减少到最低程度</li>
<li>尽可能买收益高、风险低的证券</li>
<li>尽可能选择信誉良好而又愿意支付较高利率的借款者</li>
<li>在不损失专业化优势的前提下，尽可能通过资产的多样化来降低风险</li>
</ol>
<h4 id="负债管理"><a href="#负债管理" class="headerlink" title="负债管理"></a>负债管理</h4><ul>
<li>合理利用现有的负债渠道，完善银行的负债结构，降低负债风险和负债成本</li>
<li>积极进行金融创新，在法规允许的范围内，尝试新的负债业务</li>
</ul>
<h4 id="资产负债联合管理"><a href="#资产负债联合管理" class="headerlink" title="资产负债联合管理"></a>资产负债联合管理</h4><ul>
<li>资产分配法</li>
<li>缺口管理法</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/10/27/货币银行学04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/27/货币银行学04/" itemprop="url">货币银行学04</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-27T15:22:48+08:00">
                2017-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>子曰：武王、周公，其达孝矣乎。</p>
<p>夫孝者，善继人之志，善述人之事者也。</p>
<p>春秋，修其祖庙，陈其宗器，设其裳衣，荐其时食。</p>
<p>宗庙之礼，所以序昭穆也。序爵，所以辨贵贱也。序事，所以辨贤也。旅酬下为上，所以逮贱也。燕毛所以序齿也。</p>
<p>践其位，行其礼，奏其乐，敬其所尊，爱其所亲，事死如事生，事亡如事存，孝之至也。</p>
<p>郊社之礼，所以事上帝也。宗庙之礼，所以祀其先也。明乎郊社之礼，禘常之义，治国其如示诸掌乎。</p>
<p> – 《中庸》</p>
<blockquote>
<p>人们组织到一起，必须要有一整套规则，约束人们向同一目标努力。如果没有规则，人们会无所是从，会乱掉。</p>
</blockquote>
<h3 id="金融体系概述（大纲）"><a href="#金融体系概述（大纲）" class="headerlink" title="金融体系概述（大纲）"></a>金融体系概述（大纲）</h3><p>金融体系是有关资金的集中，流动，分配和再分配的一个系统。它由资金的流出方（资金盈余单位）和流入方（资金短缺单位），连接两者的金融中介机构和金融市场，以及对这一系统进行管理的中央银行和其他金融监管机构共同构成。</p>
<h4 id="资金融通过程"><a href="#资金融通过程" class="headerlink" title="资金融通过程"></a>资金融通过程</h4><p>资金盈余单位 –&gt; 金融中介机构 –&gt; 资金短缺单位<br>                    |<br>                    ▽<br>资金盈余单位 –&gt;    证券市场 –&gt; 资金短缺单位</p>
<h4 id="直接金融"><a href="#直接金融" class="headerlink" title="直接金融"></a>直接金融</h4><ul>
<li>资金短缺单位从一级市场拿到资金</li>
<li>二级市场使资金融通的难度减小</li>
<li>二级市场间接的对证券发行单位有监督的作用</li>
</ul>
<p>直接金融，避免银行等中介环节，短缺单位可以节省融资成本，盈余单位可以增加收益。投资者需要专业的知识和技巧，并承担巨大风险。</p>
<p>中小企业因为公信力不足，所以直接金融一般来说只是政府和一些大企业的专利</p>
<h4 id="间接金融（有中介主体）"><a href="#间接金融（有中介主体）" class="headerlink" title="间接金融（有中介主体）"></a>间接金融（有中介主体）</h4><p>优点</p>
<ul>
<li>减少信息成本和合约成本</li>
<li>通过多样化降低风险</li>
<li>可以实现期限的转换</li>
</ul>
<h4 id="两种资金融通渠道的相对重要性"><a href="#两种资金融通渠道的相对重要性" class="headerlink" title="两种资金融通渠道的相对重要性"></a>两种资金融通渠道的相对重要性</h4><p>两种资金融通渠道有动态平衡的效应</p>
<h4 id="金融中介机构"><a href="#金融中介机构" class="headerlink" title="金融中介机构"></a>金融中介机构</h4><ul>
<li>存款机构</li>
<li>投资性中介机构</li>
<li>合约性储蓄机构</li>
<li>政策性金融机构</li>
</ul>
<p><em>存款机构</em></p>
<p>存款机构主要包括：商业银行，储蓄贷款协会，互助储蓄银行，信用社。共同点是都可以发行支票存款，并且以发放贷款为主要的资金运用方式。</p>
<ul>
<li><p>商业银行：主要发行支票存款，储蓄存款，定期存款来筹措资金，用于发放工商业贷款，消费者贷款和抵押贷款，购买政府债券等。</p>
</li>
<li><p>储蓄贷款协会：资金来源主要是储蓄存款，支票存款和定期存款。主要用于发放抵押贷款。</p>
</li>
<li><p>互助储蓄银行：类似于储蓄贷款协会</p>
</li>
<li><p>信用社：围绕某一社会集团建立的合作性放款机构。</p>
</li>
</ul>
<p><em>投资性中介机构</em></p>
<p>金融公司，共同基金，货币市场共同基金</p>
<p><em>合约性储蓄机构</em></p>
<p>保险公司，养老基金</p>
<p><em>政策性金融机构</em></p>
<p>政府支持或者政府直属机构，用于特定部门或者产业发展</p>
<h4 id="金融工具及其市场"><a href="#金融工具及其市场" class="headerlink" title="金融工具及其市场"></a>金融工具及其市场</h4><h5 id="货币市场工具"><a href="#货币市场工具" class="headerlink" title="货币市场工具"></a>货币市场工具</h5><ol>
<li>短期国债：一年之内的政府债券。</li>
<li>可转让定期存单</li>
<li>商业票据：大银行或者财务公司或者企业发行的，无担保行为的短期本票。</li>
<li>回购协议：以证券为抵押的短期贷款</li>
<li>银行承兑汇票：以银行信用为担保</li>
</ol>
<h5 id="资本市场工具"><a href="#资本市场工具" class="headerlink" title="资本市场工具"></a>资本市场工具</h5><ol>
<li>股票</li>
<li>债券</li>
<li>抵押贷款</li>
</ol>
<h5 id="衍生金融工具"><a href="#衍生金融工具" class="headerlink" title="衍生金融工具"></a>衍生金融工具</h5><p>衍生金融工具是一种合约，它的价值取决于作为合约标的物的某一金融工具、指数或其他投资工具的变动状况。衍生金融工具主要包括远期合约、期权合约、认股权证、互换协议及可转换证券等。</p>
<ol>
<li><p>远期合约：远期合约是最为简单的衍生金融工具。它是指在确定的未来的某一日期，按照确定的价格买卖一定数量的某种资产的协议。在远期合约中，双方约定买卖的资产称为标的资产，约定的成交价格称为协议价格，同意以约定价格卖出标的资产的一方称作空头，同意以约定价格买入标的资产的一方称为多头。</p>
</li>
<li><p>期货合约：期货合约类似于远期合约，却有几点不同</p>
<ul>
<li>期货合约为标准化合约</li>
<li>期货合约在交易所集中进行</li>
<li>远期合约主要参与者为大银行，金融机构和大企业之间，由私下信用保证。期货合约由交易所保证，中小企业也可以参与</li>
<li>实际交割比例不同，期货实际交割比例只有很少一部分，远期合约90%到期交割。期货多被认为是一种投资（机）行为。</li>
</ul>
</li>
<li>互换协议：货币互换协议和利率互换协议两种</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/10/23/货币银行学03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/23/货币银行学03/" itemprop="url">货币银行学03</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-23T09:28:52+08:00">
                2017-10-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>子曰：舜其大孝也与！德为圣人，尊为天子，富有四海之内。宗庙飨之，子孙保之。</p>
<p>故大德，必得其位，必得其禄，必得其名，必得其寿。</p>
<p>故天之生物必因其材而笃焉。故栽着培之，倾者覆之。</p>
<p>诗曰，嘉乐君子，宪宪令德，宜民宜人。受禄于天。保佑命之，自天申之。</p>
<p>故大德必受命。</p>
<p>–《中庸》</p>
<h3 id="利率的计算"><a href="#利率的计算" class="headerlink" title="利率的计算"></a>利率的计算</h3><p>分类：年利，月利，日利。单位均为厘。年利基本单位为1%，月利为1‰，日利也叫拆息单位为0.1‰</p>
<p>固定利率与浮动利率：根据是否根据市场利率变化而定期调整来区分</p>
<h4 id="单利与复利"><a href="#单利与复利" class="headerlink" title="单利与复利"></a>单利与复利</h4><p>单利计算公式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">I = Prn</span><br><span class="line">S = P(1 + rn)</span><br><span class="line">以上，I表示利息额，P表示本金，r表示利率，n表示时间，S表示本金和利息之和</span><br></pre></td></tr></table></figure></p>
<p>现实中最有意义的往往是复利，现举例说明，假设老王账户上有100元，现在年利为12%。第一年末：</p>
<p>$TV_1 = 100 \times(1 +0.12)$<br>…<br>$TV_n =P \times(1 +r)^n$</p>
<p>上述是基本的复利计算</p>
<p><em>连续复利</em></p>
<p>设每年计费次数为m，则n年末终值公式为：</p>
<p>$TV_n =P \times(1 +r\div m)^{rm}$</p>
<p><em>瞬时复利</em></p>
<p>上式m趋于无穷时 为瞬时复利，公式变为：</p>
<p>$TV_n =P \times e^{rn}$</p>
<h4 id="现值"><a href="#现值" class="headerlink" title="现值"></a>现值</h4><p>系列现金流现值计算公式：</p>
<p>$PV = \dfrac{A_1}{1+r} + \dfrac{A_2}{(1+r)^2} + … + \dfrac{A_n}{(1+r)^n}$</p>
<p>其中 $ A_i$ 是第i年末的现金流量</p>
<p>年金的现值可以通过查年金现值系数表而简单地得到</p>
<p>连续复利的情况</p>
<p>$PV = \dfrac{A_n}{e^{rn}}$</p>
<h4 id="常见的债务工具"><a href="#常见的债务工具" class="headerlink" title="常见的债务工具"></a>常见的债务工具</h4><ol>
<li>普通贷款</li>
<li>分期付款的贷款</li>
<li>息票债券</li>
<li>永久债券</li>
<li>折扣债券（零息债券）</li>
</ol>
<h4 id="到期收益率计算"><a href="#到期收益率计算" class="headerlink" title="到期收益率计算"></a>到期收益率计算</h4><p>普通贷款：$ P = \dfrac{F}{(1+r)}$</p>
<p>分期付款的贷款：$P = \dfrac{C}{1+r} + \dfrac{C}{(1+r)^2} + … + \dfrac{C}{(1+r)^n}$</p>
<p>息票债券：$P = \dfrac{C}{1+r} + \dfrac{C}{(1+r)^2} + … + \dfrac{F}{(1+r)^n}$</p>
<p>永久债券：r = A/P</p>
<p>折扣债券：$ P = \dfrac{F}{(1+r)^n}$</p>
<h4 id="利率概念的应用"><a href="#利率概念的应用" class="headerlink" title="利率概念的应用"></a>利率概念的应用</h4><p>利率的变化对经济的影响是全局性的。</p>
<p>美国：</p>
<ul>
<li>优惠利率：反应市场资金的紧缺程度，一般常用中期利率</li>
<li>短期利率：主要看三个月，六个月，以及一年的政府债券的到期收益率</li>
<li>长期利率：政府的30年债券的到期收益率</li>
</ul>
<p>利率是资金价格的直接反应，是经济活动的晴雨表。经济过热的时候，央行提高利率，使企业和个人少借款。经济疲软时，降低利率，鼓励企业投资，个人消费。</p>
<h4 id="风险与收益"><a href="#风险与收益" class="headerlink" title="风险与收益"></a>风险与收益</h4><p>资产需求财富弹性 = 资产需求数量的百分比变化 ／ 财富的百分比变化</p>
<p>必需品：需求收入弹性在1以下<br>奢侈品：需求收入弹性在1以上</p>
<p>预期收益率其实是收益率这个随机变量的数学期望值</p>
<p>$E(r) = \sum_{i=1}^{n} r_iP(i)$</p>
<p>资产流动性越高，预期收益率一般越低。</p>
<p>风险：收益率的方差或标准差可以反应风险的大小</p>
<h4 id="通过资产组合降低风险"><a href="#通过资产组合降低风险" class="headerlink" title="通过资产组合降低风险"></a>通过资产组合降低风险</h4><p>…</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/10/21/货币银行学02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/21/货币银行学02/" itemprop="url">货币银行学02</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-21T21:45:01+08:00">
                2017-10-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>君子之道，辟如行远必自迩，辟如登高必自卑。</p>
<p>诗曰，妻子好合，如鼓瑟琴。兄弟既翕，和乐且耽。宜尔家室，乐尔妻帑。</p>
<p>子曰：父母其顺乎矣。</p>
<p>–《中庸》</p>
<h3 id="货币的定义和数量"><a href="#货币的定义和数量" class="headerlink" title="货币的定义和数量"></a>货币的定义和数量</h3><ul>
<li>流通中的现金</li>
</ul>
<blockquote>
<p>M0表示流通中的现金</p>
</blockquote>
<ul>
<li>支票存款</li>
<li>信用卡</li>
</ul>
<blockquote>
<p>以上之和为M1，M1反映了社会的直接购买支付能力，商品供应量和M1应该保持合适的比例关系，不然经济会过热或者萧条</p>
</blockquote>
<ul>
<li>储蓄存款</li>
</ul>
<blockquote>
<p>从全社会来看，储蓄持续上升，而储蓄、M1、市场上的商品保持一个适当的比例。有时，由于某种原因，大家都要提款，存款转换为现金，经济中就会出现挤兑，抢购等现象。这时候全社会的储蓄总量就会急剧下降，从而导致通货膨胀，导致经济秩序的混乱。</p>
</blockquote>
<blockquote>
<p>以上四者之和为M2，研究M2构成的变化，对整个国民经济情况的分析，预测都有特别重要的意义。</p>
</blockquote>
<h3 id="货币层次的划分"><a href="#货币层次的划分" class="headerlink" title="货币层次的划分"></a>货币层次的划分</h3><p>根据各国情况，划分有区别，目的在于研究和调控</p>
<h3 id="货币的职能"><a href="#货币的职能" class="headerlink" title="货币的职能"></a>货币的职能</h3><ul>
<li>交易媒介</li>
<li>价值尺度</li>
<li>财富储存手段</li>
</ul>
<h3 id="货币与经济"><a href="#货币与经济" class="headerlink" title="货币与经济"></a>货币与经济</h3><p>货币与通货膨胀：通货膨胀特征，1，物价总水平上涨；2，价格水平持续上涨</p>
<p>通货膨胀为国家向人民征收的隐形的税</p>
<p>无论何时，通货膨胀都是一种货币现象</p>
<p>货币的政策（紧缩，宽松），影响经济发展</p>
<p>政府财政收入小于支出的时候，第一个方法是向国内外借款，借款还不够机会向银行透支，也就是说印钞票。所以财政赤字和通货膨胀有间接关系。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/10/12/常用命令笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/12/常用命令笔记/" itemprop="url">常用linux命令笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-12T14:13:55+08:00">
                2017-10-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Linux-的档案权限与目录"><a href="#Linux-的档案权限与目录" class="headerlink" title="Linux 的档案权限与目录"></a>Linux 的档案权限与目录</h3><p>任何一个档案都有 user，group，others三种身份的个别权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--   1 york  staff   292 10 12 13:31 app.js</span><br></pre></td></tr></table></figure>
<p>这里暂时只讨论第一栏 <code>-rw-r--r--</code></p>
<p>第一个字符代表文件类型：d（文件夹），-（文件），l（连结），b（可供存储的接口设备），c（串行端口设备）</p>
<p>接下来的字符中，三个为一组，且均为<code>rwx</code>的三个参数组合，r代表可读，w代表可写，x代表可执行，如果为-代表相应位置无权限。第一组为拥有者全县，第二组为同群组权限，第三组为其他非群组的权限。</p>
<h4 id="chmod，改变权限"><a href="#chmod，改变权限" class="headerlink" title="chmod，改变权限"></a>chmod，改变权限</h4><p>数字类型改变权限：r:4,w:2,x:1；<br>符号类型改变档案权限：chmod  (u,g,o,a)(+,-,=)(r,w,x) (档案或目录)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/10/08/10月舟山游记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/08/10月舟山游记/" itemprop="url">10月舟山游记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-08T14:44:25+08:00">
                2017-10-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><h4 id="舟山游记（一）"><a href="#舟山游记（一）" class="headerlink" title="舟山游记（一）"></a>舟山游记（一）</h4><p>东海有山名普陀，传闻此处有佛国。<br>拜遍普济与慧济，为善为真福自多。</p>
<p>南天门上可远望，海天一色起碧波。<br>回首向来萧瑟处，三十六月成蹉跎。</p>
<h4 id="舟山游记（二）"><a href="#舟山游记（二）" class="headerlink" title="舟山游记（二）"></a>舟山游记（二）</h4><p>八月天气鲜，漫游朱家尖。<br>早起登白山，爽风吹山巅。</p>
<p>午后大青山，阳光照沙滩。<br>近海黄蓝线，分割为哪般？</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>2017年10月份，十一长假和中秋节撞到了一起，放假延长到8天。秋高气爽，正好适合出游。</p>
<p>1号从上海出发，乘坐大巴到普陀长途客运站，途径杭州湾跨海大桥和金塘大桥。此二者，雄踞海陆，宛若长龙出海，又似长虹落地，三十年间今非昔比。</p>
<p>我是和cc君和c君一起来的，途中历时较长，大约下午6时到达旅社 – <code>66号客栈</code>。略作安顿，根据热情的房东建议，我们去了临近的<code>阿勇海鲜大排档</code>，开始舟山之行的第一次晚餐。</p>
<p>不得不说，<code>阿勇海鲜大排档</code>味道确实不错，印象特别深的是小黄鱼和海鲜面，小黄鱼非常鲜嫩，入口即化，海鲜面香而不腻，面汤极其鲜美。cc君和我同时感叹，仅此一餐，值回票价。</p>
<p>我们的房间也很不错，宽敞明亮，住着非常舒服。一夜安眠无话。</p>
<p>2号8点钟出发，10点钟乘船到普陀山，开始信步游览。当然，游客人山人海。不知不觉毕业已经三年，我们再也称不上年青，顶多是年轻，据联合国最新标准，我们都是妥妥的中年人！然而三年又做了什么呢，满怀理想和信念，想要改变世界，然而因为迷茫和浮躁止步不前。我们先去了南天门，南天门是看海景极佳的地方，远望碧海清波，近看嶙峋奇石，海天一线处，时时涌动着暗波。</p>
<p>然后我们去拜了观世音大士，在这海天佛国，有非常多很虔诚的居士，长拜不起，还有一群纯洁的信徒，梵音不休。我不是纯正的佛学信徒，但是我和他们有相同的信仰，秉持真善美的处世态度。所以双手合十拜了一拜。有一句话说的好，改变世界从改变自己开始，在物欲横流的世界，到底应该如何摆正自己的态度呢？我始终坚持真善美的态度，对自己诚实，即使不做，也不做恶。天行健，君子以自强不息；地势坤，君子以厚德载物。对自己诚实，哪怕走的慢一些，但是步伐会更稳健。</p>
<p>一行三人，边走边聊，三年之中各有经历，慢慢走出生活的迷茫，走出自己人生的方向。只有我，空有理想，却只履行十不及一。用王阳明先生说的话就是没有知行合一。沉下心来仔细想一想，目前这种人生态度和做事方式到底是缺少了什么呢？知止而后有定，定而后能静，静而后能安，安而后能虑，虑而后能行，行而后能得。现在关键是心不定，不安，不静。追根问底是因为没有‘知止’，没有一个明确的奋斗目标，杂念太多！</p>
<p>走遍普济寺和慧济寺之后，发现走的路越远，人越会感觉到舒服，全身心调动起来，才能体会到豁达，才能体会到中和，才能体会到应物无穷。</p>
<p>3号，我们计划是游朱家尖，我们就住在朱家尖城区，所以此日并不匆忙。我们先到附近的白山游玩。印象最深刻的是爬到山巅，吹着爽风，全身心通透的舒服。有人说，身体和灵魂总有一个要在路上，其实身体和灵魂哪一个都要时时在路上。人生短暂，只有在路上才能够看到不同的风景。</p>
<p>下午我们去了大青山国家公园，不得不提一句，如果来这里游玩，最好自驾或租车，因为公园实在很大，而且晚了很难打车。大青山有很漂亮的沙滩，我人生中第一次接触海水就是在这里，匆匆忙忙脱下鞋子，踏进浪花中，非常惬意。午后阳光沙滩，能点亮人的心情。海水的味道很咸，没有尝过的还是要尝一下。</p>
<p>人生就是一场旅程，充满艰难和曲折，同时充满奇观妙景，本持着真善美的内心，坚持走自强不息的道路，未来会更雄伟壮丽。</p>
<p>– 2017.10.13</p>
<p><a href="command:editor.action.addCommentLine" target="_blank" rel="noopener">Add comment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/09/27/yargs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/27/yargs/" itemprop="url">yargs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-27T20:05:55+08:00">
                2017-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>仲尼曰：君子中庸；小人反中庸</p>
<p>君子中庸也，君子而士中。小人之反中庸也，小人而无忌惮也。</p>
<p>–《中庸》</p>
<h3 id="yargs-api-探索"><a href="#yargs-api-探索" class="headerlink" title="yargs api 探索"></a>yargs api 探索</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).argv; <span class="comment">//等价于以下方法</span></span><br><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).parse(); <span class="comment">//此二者用于拿到命令行参数</span></span><br></pre></td></tr></table></figure>
<h4 id="alias-key-alias"><a href="#alias-key-alias" class="headerlink" title=".alias(key, alias)"></a>.alias(key, alias)</h4><p>此接口用于使用短符号等价比较长的 key<br>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.alias(<span class="string">'i'</span>, <span class="string">'ingredient'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="argv"><a href="#argv" class="headerlink" title=".argv"></a>.argv</h4><p>取得输入参数，用 object 表示</p>
<h4 id="array-key"><a href="#array-key" class="headerlink" title=".array(key)"></a>.array(key)</h4><p>指定 key 为数组，例：.array(‘foo’)设置之后，–foo foo bar 将会变成[‘foo’,’bar’]</p>
<h4 id="boolean-key"><a href="#boolean-key" class="headerlink" title=".boolean(key)"></a>.boolean(key)</h4><p>指定 key 为 bool 值，例：.boolean(‘foo’)设置之后， –foo foo 将会变成 true</p>
<h4 id="check-fn-global-true"><a href="#check-fn-global-true" class="headerlink" title=".check(fn, [global=true])"></a>.check(fn, [global=true])</h4><p>函数 fn 接受两个参数，argv，options</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">_</span>: [], <span class="attr">help</span>: <span class="literal">false</span>, <span class="attr">version</span>: <span class="literal">false</span>, <span class="attr">foo</span>: <span class="string">'test'</span>, <span class="string">'$0'</span>: <span class="string">'app.js'</span> &#125; <span class="comment">// argv</span></span><br><span class="line">&#123; <span class="attr">help</span>: [], <span class="attr">version</span>: [] &#125; <span class="comment">// options</span></span><br></pre></td></tr></table></figure>
<p>这个函数用于检测参数传的是不是合法，return 不为 true 的时候会显示抛出的错误，使用说明，然后退出。<br>global = true 的时候意思是这个应该放到顶层（检查嘛，应该在最开始检查）</p>
<h4 id="choices-key-choices"><a href="#choices-key-choices" class="headerlink" title=".choices(key, choices)"></a>.choices(key, choices)</h4><p>给 key 预定义一些列可取的值，如果这个方法调用了多次，那么列举的值会被 merge 到一起。选项是一般的字符串或者数字，并且对大小写敏感。例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .choices(<span class="string">"i"</span>, [<span class="string">"peanut-butter"</span>, <span class="string">"jelly"</span>, <span class="string">"banana"</span>, <span class="string">"pickles"</span>])</span><br><span class="line">  .choices(<span class="string">"i"</span>, [<span class="string">"apple"</span>])</span><br><span class="line">  .parse();</span><br></pre></td></tr></table></figure>
<p>另外，.choices()可以使用一个对象携带多个 key-choices。例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .choices(&#123;</span><br><span class="line">    j: [<span class="string">"butter"</span>, <span class="string">"ly"</span>, <span class="string">"ana"</span>, <span class="string">"kles"</span>],</span><br><span class="line">    i: [<span class="string">"peanut-butter"</span>, <span class="string">"jelly"</span>, <span class="string">"banana"</span>, <span class="string">"pickles"</span>]</span><br><span class="line">  &#125;)</span><br><span class="line">  .parse();</span><br></pre></td></tr></table></figure>
<p>而且，choices 可以设置为 option()方法的一个 key</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).option(<span class="string">"size"</span>, &#123;</span><br><span class="line">  alias: <span class="string">"s"</span>,</span><br><span class="line">  describe: <span class="string">"choose a size"</span>,</span><br><span class="line">  choices: [<span class="string">"xs"</span>, <span class="string">"s"</span>, <span class="string">"m"</span>, <span class="string">"l"</span>, <span class="string">"xl"</span>]</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<h4 id="coerce-key-fn"><a href="#coerce-key-fn" class="headerlink" title=".coerce(key, fn)"></a>.coerce(key, fn)</h4><p>这个接口是用来强制转换 key 的 value 值的。这个强转函数接受一个参数，也就是命令行中的 key 值。此函数必须返回一个新的值，或者抛出错误。返回的新值将会作为 key 的 value（或者 key 的 alias 的 value）。</p>
<p>抛出的错误，可以在<code>fail()</code>方法中捕获并打印。</p>
<p>强制转换可以在所有其他修改方法之后应用，比如在<code>.normalize()</code>方法之后应用。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .alias(<span class="string">"f"</span>, <span class="string">"file"</span>)</span><br><span class="line">  .coerce(<span class="string">"file"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"test"</span>);</span><br><span class="line">  &#125;).argv;</span><br></pre></td></tr></table></figure>
<p>当然，此方法也可以接受对象参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).coerce(&#123;</span><br><span class="line">  date: <span class="built_in">Date</span>.parse,</span><br><span class="line">  json: <span class="built_in">JSON</span>.parse</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>还有，你可以使用一个函数对应好几个 key：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).coerce([<span class="string">"src"</span>, <span class="string">"dest"</span>], path.resolve).argv;</span><br></pre></td></tr></table></figure>
<p>如果使用点操作或者数组，强制转换会应用到最终的 object 上：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// --user.name Batman --user.password 123</span></span><br><span class="line"><span class="comment">// gives us: &#123;name: 'batman', password: '[SECRET]'&#125;</span></span><br><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .option(<span class="string">"user"</span>)</span><br><span class="line">  .coerce(<span class="string">"user"</span>, opt =&gt; &#123;</span><br><span class="line">    opt.name = opt.name.toLowerCase();</span><br><span class="line">    opt.password = <span class="string">"[SECRET]"</span>;</span><br><span class="line">    <span class="keyword">return</span> opt;</span><br><span class="line">  &#125;).argv;</span><br></pre></td></tr></table></figure>
<h4 id="command-cmd-desc-builder-handler-command-cmd-desc-module-command-module"><a href="#command-cmd-desc-builder-handler-command-cmd-desc-module-command-module" class="headerlink" title=".command(cmd, desc, [builder], [handler]);.command(cmd, desc, [module]);.command(module)"></a>.command(cmd, desc, [builder], [handler]);.command(cmd, desc, [module]);.command(module)</h4><p>此用法用于定义应用暴露出来的的命令（默认我们程序命名为 app.js）</p>
<p><code>cmd</code>用于定义命令(注意这里要和参数 key 区分开)，可以为字符串或者字符串数组，当然也可以使用 alias，下面有专门叙述。</p>
<p><code>desc</code>用于描述应用提供的所有命令（逐条对应）。定义为 false 可以生成一个隐藏命令，隐藏命令不会在帮助信息中展示，同时不能在<code>.completion</code>中使用</p>
<p>另外，也可以提供一个<code>构建者</code> object 提供一些命令接受的选项信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yargs</span><br><span class="line">  .command(<span class="string">"get"</span>, <span class="string">"make a get HTTP request"</span>, &#123;</span><br><span class="line">    url: &#123;</span><br><span class="line">      alias: <span class="string">"u"</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">"http://yargs.js.org/"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .help().argv;</span><br></pre></td></tr></table></figure>
<p><code>构建者</code> 还可以是一个函数。函数携带一个 <code>yargs</code> 实例， 可以用来提供更详细的命令描述。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yargs</span><br><span class="line">  .command(<span class="string">"get"</span>, <span class="string">"make a get HTTP request"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">yargs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> yargs.option(<span class="string">"url"</span>, &#123;</span><br><span class="line">      alias: <span class="string">"u"</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">"http://yargs.js.org/"</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .help().argv;</span><br></pre></td></tr></table></figure>
<p>而且，还可以加上一个处理函数，参数为转化后的<code>argv</code>对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">yargs</span><br><span class="line">  .command(</span><br><span class="line">    <span class="string">"get"</span>,</span><br><span class="line">    <span class="string">"make a get HTTP request"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">yargs</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> yargs.option(<span class="string">"u"</span>, &#123;</span><br><span class="line">        alias: <span class="string">"url"</span>,</span><br><span class="line">        describe: <span class="string">"the URL to make an HTTP request to"</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">argv</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(argv.url);</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .help().argv;</span><br></pre></td></tr></table></figure>
<p>想要进一步了解 command api 更详尽的特性，请<a href="https://github.com/yargs/yargs/blob/master/docs/advanced.md#commands" target="_blank" rel="noopener">点击这里</a></p>
<h4 id="completion-cmd-description-fn"><a href="#completion-cmd-description-fn" class="headerlink" title=".completion([cmd], [description], [fn])"></a>.completion([cmd], [description], [fn])</h4><p>此命令用户命令行补全(切记执行 chmod u+x 文件 改为可执行文件再进行补全尝试)</p>
<p><code>cmd</code> 定义参与命令补全的命令。第一次使用会有提示，如果用的 zsh，那么将提示中<code>.bashrc</code>改成<code>.zshrc</code>，然后按照提示操作（切记将你的 js 文件设置为可执行文件，然后再操作）</p>
<p><code>description</code> 描述命令的使用方法</p>
<p><code>fn</code>: 提供待补全的参数</p>
<p>如果实现的时候没有携带参数，那么<code>.completion()</code>会让补全命令输出补全脚本</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).completion(<span class="string">"completion"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">current, argv</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 'current' is the current command being completed.</span></span><br><span class="line">  <span class="comment">// 'argv' is the parsed arguments so far.</span></span><br><span class="line">  <span class="comment">// simply return an array of completions.</span></span><br><span class="line">  <span class="keyword">return</span> [<span class="string">"foo"</span>, <span class="string">"bar"</span>];</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>还可以提供异步补全</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).completion(<span class="string">"completion"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  current,</span></span></span><br><span class="line"><span class="function"><span class="params">  argv,</span></span></span><br><span class="line"><span class="function"><span class="params">  done</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    done([<span class="string">"apple"</span>, <span class="string">"banana"</span>]);</span><br><span class="line">  &#125;, <span class="number">500</span>);</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>还可以使用异步的 promise</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).completion(<span class="string">"completion"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  current,</span></span></span><br><span class="line"><span class="function"><span class="params">  argv,</span></span></span><br><span class="line"><span class="function"><span class="params">  done</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      resolve([<span class="string">"apple"</span>, <span class="string">"banana"</span>]);</span><br><span class="line">    &#125;, <span class="number">10</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<h3 id="config-key-description-parseFn-config-object"><a href="#config-key-description-parseFn-config-object" class="headerlink" title=".config([key], [description], [parseFn]) .config(object)"></a>.config([key], [description], [parseFn]) .config(object)</h3><p>此方法使得传入 key 的值被认为是一个 JSON 配置文件的路径。文件中的 JSON 属性被设置为对应的 key 和 value(挂在 argv 上)。文件使用 nodejs 的 require api 加载的，文件名最好为.js, .json。</p>
<p>如果此方法没有携带任何参数，<code>.config()</code>将会使用<code>--config</code>选项传入 JSON 配置文件（此时只能传入以.json 结尾文件）</p>
<p><code>description</code>同其他方法，用于描述命令</p>
<p>可选项 <code>parseFn</code> 可以用来定制转换器。转换函数必须是同步的，并且应当返回一个带有 key,value 键值对的对象或者一个 error。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).config(<span class="string">"settings"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">configPath</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(fs.readFileSync(configPath, <span class="string">"utf-8"</span>));</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>你还可以传一个明确的 object，同样的，它的键值对会转化为<code>argv</code>的键值对。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).config(&#123; <span class="attr">foo</span>: <span class="number">1</span>, <span class="attr">bar</span>: <span class="number">2</span> &#125;).argv;</span><br></pre></td></tr></table></figure>
<p><code>config</code>和<code>pkgConf</code>可以提供<code>extends</code>关键词，用来表明配置应该从别处继承。</p>
<p><code>extends</code>参数可以是绝对路径也可以是相对路径</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yargs.config(&#123;</span><br><span class="line">  extends: <span class="string">"./configs/a.json"</span>,</span><br><span class="line">  logLevel: <span class="string">"verbose"</span></span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>或者，还可以是一个模块</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># my-library.js</span><br><span class="line">yargs.pkgConf(<span class="string">'nyc'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"nyc"</span>: &#123;</span><br><span class="line">    <span class="string">"extends"</span>: <span class="string">"nyc-babel-config"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>nyc-babel-config 是一个提供配置的包</p>
<h4 id="conflicts-x-y"><a href="#conflicts-x-y" class="headerlink" title=".conflicts(x, y)"></a>.conflicts(x, y)</h4><p>如果 x 被设置了，那么 y 一定不能被设置。y 可以是字符串也可以是数组</p>
<p>当然，此方法也可以接受 Object 对象</p>
<h4 id="count-key"><a href="#count-key" class="headerlink" title=".count(key)"></a>.count(key)</h4><p>此命令用来对命令计数，并转化为命令的参数。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .count(<span class="string">"verbose"</span>)</span><br><span class="line">  .alias(<span class="string">"v"</span>, <span class="string">"verbose"</span>).argv;</span><br><span class="line"></span><br><span class="line">VERBOSE_LEVEL = argv.verbose;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">WARN</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  VERBOSE_LEVEL &gt;= <span class="number">0</span> &amp;&amp; <span class="built_in">console</span>.log.apply(<span class="built_in">console</span>, <span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">INFO</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  VERBOSE_LEVEL &gt;= <span class="number">1</span> &amp;&amp; <span class="built_in">console</span>.log.apply(<span class="built_in">console</span>, <span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DEBUG</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  VERBOSE_LEVEL &gt;= <span class="number">2</span> &amp;&amp; <span class="built_in">console</span>.log.apply(<span class="built_in">console</span>, <span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">WARN(<span class="string">"Showing only important stuff"</span>);</span><br><span class="line">INFO(<span class="string">"Showing semi-important stuff too"</span>);</span><br><span class="line">DEBUG(<span class="string">"Extra chatty mode"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="default-key-value-description-defaults-key-value-description"><a href="#default-key-value-description-defaults-key-value-description" class="headerlink" title=".default(key, value, [description]) .defaults(key, value, [description])"></a>.default(key, value, [description]) .defaults(key, value, [description])</h4><p><em>注意：</em>这个命令已经弃用。将在将来的主版本中移除</p>
<p>如果没有选项传入的话，为 key 设置默认值</p>
<p>当然，同样此命令可以接受一个 object 为参数，设置 key 的默认值</p>
<p>而且，默认值还可以是一个函数，函数名会被写到 help 里面的用法说明中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).default(<span class="string">"random"</span>, <span class="function"><span class="keyword">function</span> <span class="title">randomValue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.random() * <span class="number">256</span>;</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>而且，<code>description</code>参数可以优先提供用法说明</p>
<h4 id="demandOption-key-msg-boolean-demandOption-key-msg"><a href="#demandOption-key-msg-boolean-demandOption-key-msg" class="headerlink" title=".demandOption(key, [msg | boolean]) .demandOption(key, msg)"></a>.demandOption(key, [msg | boolean]) .demandOption(key, msg)</h4><p>此命令用来强制用户输入某些参数</p>
<p>如果 key 是一个字符串，且 key 没有出现在命令行参数中，展示使用说明并退出。</p>
<p>如果 key 是数组，限制每一个数组中的参数</p>
<p>如果提供了 msg，而且没有相应参数，那么 msg 将会展示，替代原有的标准错误信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// demand an array of keys to be provided</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .option(<span class="string">"run"</span>, &#123;</span><br><span class="line">    alias: <span class="string">"r"</span>,</span><br><span class="line">    describe: <span class="string">"run your program"</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .option(<span class="string">"path"</span>, &#123;</span><br><span class="line">    alias: <span class="string">"p"</span>,</span><br><span class="line">    describe: <span class="string">"provide a path to file"</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .option(<span class="string">"spec"</span>, &#123;</span><br><span class="line">    alias: <span class="string">"s"</span>,</span><br><span class="line">    describe: <span class="string">"program specifications"</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .demandOption(</span><br><span class="line">    [<span class="string">"run"</span>, <span class="string">"path"</span>],</span><br><span class="line">    <span class="string">"Please provide both run and path arguments to work with this tool"</span></span><br><span class="line">  )</span><br><span class="line">  .help().argv;</span><br></pre></td></tr></table></figure>
<p>当第二个参数为布尔值的时候，布尔值决定了这个选项是不是必须的。当使用 options 方法的时候，这个选项很有用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// demand individual options within the option constructor</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .options(&#123;</span><br><span class="line">    run: &#123;</span><br><span class="line">      alias: <span class="string">"r"</span>,</span><br><span class="line">      describe: <span class="string">"run your program"</span>,</span><br><span class="line">      demandOption: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    path: &#123;</span><br><span class="line">      alias: <span class="string">"p"</span>,</span><br><span class="line">      describe: <span class="string">"provide a path to file"</span>,</span><br><span class="line">      demandOption: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    spec: &#123;</span><br><span class="line">      alias: <span class="string">"s"</span>,</span><br><span class="line">      describe: <span class="string">"program specifications"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .help().argv;</span><br></pre></td></tr></table></figure>
<h4 id="demandCommand-min-1-minMsg-demandCommand-min-1-max-minMsg-maxMsg"><a href="#demandCommand-min-1-minMsg-demandCommand-min-1-max-minMsg-maxMsg" class="headerlink" title=".demandCommand([min=1], [minMsg]) .demandCommand([min=1], [max], [minMsg], [maxMsg])"></a>.demandCommand([min=1], [minMsg]) .demandCommand([min=1], [max], [minMsg], [maxMsg])</h4><p>此命令用于限定用户在程序中使用的命令次数。如果命令没有传进来，使用 msg 提供标准的错误提示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .command(&#123;</span><br><span class="line">    command: <span class="string">"configure &lt;key&gt; [value]"</span>,</span><br><span class="line">    aliases: [<span class="string">"config"</span>, <span class="string">"cfg"</span>],</span><br><span class="line">    desc: <span class="string">"Set a config variable"</span>,</span><br><span class="line">    builder: <span class="function"><span class="params">yargs</span> =&gt;</span> yargs.default(<span class="string">"value"</span>, <span class="string">"true"</span>),</span><br><span class="line">    handler: <span class="function"><span class="params">argv</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`setting <span class="subst">$&#123;argv.key&#125;</span> to <span class="subst">$&#123;argv.value&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// provide a minimum demand and a minimum demand message</span></span><br><span class="line">  .demandCommand(<span class="number">1</span>, <span class="string">"You need at least one command before moving on"</span>)</span><br><span class="line">  .help().argv;</span><br></pre></td></tr></table></figure>
<h4 id="describe-key-desc"><a href="#describe-key-desc" class="headerlink" title=".describe(key, desc)"></a>.describe(key, desc)</h4><p>描述 key 的使用方法，可以使用 object</p>
<h4 id="detectLocale-boolean"><a href="#detectLocale-boolean" class="headerlink" title=".detectLocale(boolean)"></a>.detectLocale(boolean)</h4><p>yargs 是否检查系统的所在地，默认是 true</p>
<h4 id="env-prefix"><a href="#env-prefix" class="headerlink" title=".env([prefix])"></a>.env([prefix])</h4><p>定义环境变量的值，使用”_“来表明嵌套的选项（nested__foo =&gt; nested.foo）</p>
<p>程序参数定义优先的次序:</p>
<ol>
<li>命令行参数</li>
<li>env 参数</li>
<li>配置文件或者 object</li>
<li>默认选项</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .env(<span class="string">"MY_PROGRAM"</span>)</span><br><span class="line">  .option(<span class="string">"f"</span>, &#123;</span><br><span class="line">    alias: <span class="string">"fruit-thing"</span>,</span><br><span class="line">    <span class="keyword">default</span>: <span class="string">"apple"</span></span><br><span class="line">  &#125;).argv;</span><br><span class="line"><span class="built_in">console</span>.log(argv);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ node fruity.js</span><br><span class="line">&#123; <span class="attr">_</span>: [],</span><br><span class="line">  f: <span class="string">'apple'</span>,</span><br><span class="line">  <span class="string">'fruit-thing'</span>: <span class="string">'apple'</span>,</span><br><span class="line">  fruitThing: <span class="string">'apple'</span>,</span><br><span class="line">  <span class="string">'$0'</span>: <span class="string">'fruity.js'</span> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ MY_PROGRAM_FRUIT_THING=banana node fruity.js</span><br><span class="line">&#123; <span class="attr">_</span>: [],</span><br><span class="line">  fruitThing: <span class="string">'banana'</span>,</span><br><span class="line">  f: <span class="string">'banana'</span>,</span><br><span class="line">  <span class="string">'fruit-thing'</span>: <span class="string">'banana'</span>,</span><br><span class="line">  <span class="string">'$0'</span>: <span class="string">'fruity.js'</span> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ MY_PROGRAM_FRUIT_THING=banana node fruity.js -f cat</span><br><span class="line">&#123; <span class="attr">_</span>: [],</span><br><span class="line">  f: <span class="string">'cat'</span>,</span><br><span class="line">  <span class="string">'fruit-thing'</span>: <span class="string">'cat'</span>,</span><br><span class="line">  fruitThing: <span class="string">'cat'</span>,</span><br><span class="line">  <span class="string">'$0'</span>: <span class="string">'fruity.js'</span> &#125;</span><br></pre></td></tr></table></figure>
<p>默认情况下不读取 env 参数（没有传啊！！！），但是可以用<code>.env(false)</code>让环境变量失效。</p>
<h4 id="epilog-str-epilogue-str"><a href="#epilog-str-epilogue-str" class="headerlink" title=".epilog(str) .epilogue(str)"></a>.epilog(str) .epilogue(str)</h4><p>使用说明之后的收场白</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).epilogue(</span><br><span class="line">  <span class="string">"for more information, find our manual at http://example.com"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="example-cmd-desc"><a href="#example-cmd-desc" class="headerlink" title=".example(cmd, desc)"></a>.example(cmd, desc)</h4><p>增加示例，第一个参数<code>cmd</code>中，<code>$0</code>代表命令行中的第一个参数。例子会随着帮助信息打印出来。</p>
<h4 id="exitProcess-enable"><a href="#exitProcess-enable" class="headerlink" title=".exitProcess(enable)"></a>.exitProcess(enable)</h4><p>暂时没发现有什么卵用</p>
<h4 id="fail-fn"><a href="#fail-fn" class="headerlink" title=".fail(fn)"></a>.fail(fn)</h4><p>当失败发生的时候，此函数调用，而不是打印错误信息。</p>
<p><code>fn</code> 参数有三个，msg: ‘本来要打印的信息’；err：最开始抛出来的<code>Error</code>实例；’yargs’，参数对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).fail(<span class="function"><span class="keyword">function</span>(<span class="params">msg, err, yargs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err; <span class="comment">// preserve stack</span></span><br><span class="line">  <span class="built_in">console</span>.error(<span class="string">"You broke it!"</span>);</span><br><span class="line">  <span class="built_in">console</span>.error(msg);</span><br><span class="line">  <span class="built_in">console</span>.error(<span class="string">"You should be doing"</span>, yargs.help());</span><br><span class="line">  process.exit(<span class="number">1</span>);</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<h4 id="getCompletion-args-done"><a href="#getCompletion-args-done" class="headerlink" title=".getCompletion(args, done);"></a>.getCompletion(args, done);</h4><p>原文是可以程序地补全任何行的选项</p>
<p>args: 命令行要补全的参数</p>
<p>done: 回调函数，参数为补全的结果</p>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .option(<span class="string">"foobar"</span>)</span><br><span class="line">  .option(<span class="string">"foobaz"</span>)</span><br><span class="line">  .completion()</span><br><span class="line">  .getCompletion([<span class="string">"./test.js"</span>, <span class="string">"--foo"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">completions</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(completions);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>输入的补全选项：<code>./test.js --foo</code> (按 tab 键)：–foobar 和 –foobaz</p>
<blockquote>
<p>此方法我没有实际测试通过，特此备注</p>
</blockquote>
<h4 id="global-globals-global-true"><a href="#global-globals-global-true" class="headerlink" title=".global(globals, [global=true])"></a>.global(globals, [global=true])</h4><p>默认 option 都是全局的，但是此命令可以恢复设置为 false 的选项重新为全局的。</p>
<p>全局的 option 在定义的命令执行之后不会清除，非全局的会被清除。默认所有选项都是全局的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .option(<span class="string">"a"</span>, &#123;</span><br><span class="line">    alias: <span class="string">"all"</span>,</span><br><span class="line">    <span class="keyword">default</span>: <span class="literal">true</span>,</span><br><span class="line">    global: <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .option(<span class="string">"n"</span>, &#123;</span><br><span class="line">    alias: <span class="string">"none"</span>,</span><br><span class="line">    <span class="keyword">default</span>: <span class="literal">true</span>,</span><br><span class="line">    global: <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .command(<span class="string">"foo"</span>, <span class="string">"foo command"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">yargs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> yargs.option(<span class="string">"b"</span>, &#123;</span><br><span class="line">      alias: <span class="string">"bar"</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .help(<span class="string">"help"</span>)</span><br><span class="line">  .global(<span class="string">"a"</span>).argv;</span><br></pre></td></tr></table></figure>
<h4 id="group-key-s-groupName"><a href="#group-key-s-groupName" class="headerlink" title=".group(key(s), groupName)"></a>.group(key(s), groupName)</h4><p> 这个就是在显示使用说明的时候，为同一组 option 增加一个头标题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yargs = <span class="built_in">require</span>(<span class="string">"yargs"</span>)([<span class="string">"--help"</span>])</span><br><span class="line">  .help()</span><br><span class="line">  .group(<span class="string">"batman"</span>, <span class="string">"Heroes:"</span>)</span><br><span class="line">  .describe(<span class="string">"batman"</span>, <span class="string">"world's greatest detective"</span>)</span><br><span class="line">  .wrap(<span class="literal">null</span>).argv;</span><br></pre></td></tr></table></figure>
<h4 id="help-help-option-boolean-help-option-description"><a href="#help-help-option-boolean-help-option-description" class="headerlink" title=".help() .help([option | boolean]) .help([option, [description]])"></a>.help() .help([option | boolean]) .help([option, [description]])</h4><p>展示和配置帮助信息，yargs 默认支持<code>--help</code>选项</p>
<p>option 参数代表可以使用其他选项或命令调出帮助信息。</p>
<p>description 可以修改默认帮助信息的文案</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yargs = <span class="built_in">require</span>(<span class="string">"yargs"</span>)([<span class="string">"--info"</span>])</span><br><span class="line">  .usage(<span class="string">"$0 -operand1 number -operand2 number -operation [add|subtract]"</span>)</span><br><span class="line">  .help(<span class="string">"info"</span>).argv;</span><br></pre></td></tr></table></figure>
<h4 id="implies-x-y"><a href="#implies-x-y" class="headerlink" title=".implies(x, y)"></a>.implies(x, y)</h4><p>此命令意味着 y 对 x 有依赖，y 可以是数组，可以是参数名，甚至可以是数字（参数位置）</p>
<p>同样地，这个方法可以接受一个对象参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yargs = <span class="built_in">require</span>(<span class="string">"yargs"</span>).implies(<span class="string">"a"</span>, <span class="string">"b"</span>).argv;</span><br></pre></td></tr></table></figure>
<h4 id="locale"><a href="#locale" class="headerlink" title=".locale()"></a>.locale()</h4><p>开启本地模式，默认 yargs 会自动检测系统位置，然后使用当地的语言</p>
<p>实用一个静态的 locale 可以覆盖掉默认的行为，如下所示</p>
<h4 id="locale-locale"><a href="#locale-locale" class="headerlink" title=".locale(locale)"></a>.locale(locale)</h4><p>覆盖默认检测到的 locale</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .usage(<span class="string">"./$0 - follow ye instructions true"</span>)</span><br><span class="line">  .option(<span class="string">"option"</span>, &#123;</span><br><span class="line">    alias: <span class="string">"o"</span>,</span><br><span class="line">    describe: <span class="string">"'tis a mighty fine option"</span>,</span><br><span class="line">    demandOption: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .command(<span class="string">"run"</span>, <span class="string">"Arrr, ya best be knowin' what yer doin'"</span>)</span><br><span class="line">  .example(<span class="string">"$0 run foo"</span>, <span class="string">"shiver me timbers, here's an example for ye"</span>)</span><br><span class="line">  .help(<span class="string">"help"</span>)</span><br><span class="line">  .wrap(<span class="number">70</span>)</span><br><span class="line">  .locale(<span class="string">"pirate"</span>).argv;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">./test.js - follow ye instructions <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Choose yer command:</span><br><span class="line">  run  Arrr, ya best be knowin<span class="string">' what yer doin'</span></span><br><span class="line"></span><br><span class="line">Options <span class="keyword">for</span> me hearties!</span><br><span class="line">  --option, -o  <span class="string">'tis a mighty fine option               [requi-yar-ed]</span></span><br><span class="line"><span class="string">  --help        Parlay this here code of conduct             [boolean]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Ex. marks the spot:</span></span><br><span class="line"><span class="string">  test.js run foo  shiver me timbers, here'</span>s an example <span class="keyword">for</span> ye</span><br><span class="line"></span><br><span class="line">Ye be havin<span class="string">' to set the followin'</span> argument land lubber: option</span><br></pre></td></tr></table></figure>
<p>一般用不到这个东东</p>
<h4 id="nargs-key-count"><a href="#nargs-key-count" class="headerlink" title=".nargs(key, count)"></a>.nargs(key, count)</h4><p>此方法用于限制 key 后面跟的参数长度</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).nargs(<span class="string">"token"</span>, <span class="number">1</span>).argv;</span><br></pre></td></tr></table></figure>
<p>当然，也可以传 object 参数</p>
<h4 id="normalize-key"><a href="#normalize-key" class="headerlink" title=".normalize(key)"></a>.normalize(key)</h4><p>据说是为了传入 path 的时候，便于调用 path.normalize()</p>
<h4 id="number-key"><a href="#number-key" class="headerlink" title="number(key)"></a>number(key)</h4><p>告诉 parser，一直将这个<code>key</code>当作数字转换</p>
<p>参数可以是数组</p>
<p>选项如果并没有值，默认为<code>undefined</code></p>
<p>不能转化为数字，会被转换为<code>NaN</code></p>
<p>小数，16 进制数，科学计数法都是合法的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .number(<span class="string">"n"</span>)</span><br><span class="line">  .number([<span class="string">"width"</span>, <span class="string">"height"</span>]).argv;</span><br></pre></td></tr></table></figure>
<h4 id="option-key-opt-options-key-opt"><a href="#option-key-opt-options-key-opt" class="headerlink" title=".option(key, [opt]) .options(key, [opt])"></a>.option(key, [opt]) .options(key, [opt])</h4><p>为<code>key</code>配置各种选项的命令</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).option(<span class="string">"f"</span>, &#123;</span><br><span class="line">  alias: <span class="string">"file"</span>,</span><br><span class="line">  demandOption: <span class="literal">true</span>,</span><br><span class="line">  <span class="keyword">default</span>: <span class="string">"/etc/passwd"</span>,</span><br><span class="line">  describe: <span class="string">"x marks the spot"</span>,</span><br><span class="line">  type: <span class="string">"string"</span></span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>同</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .alias(<span class="string">"f"</span>, <span class="string">"file"</span>)</span><br><span class="line">  .demandOption(<span class="string">"f"</span>)</span><br><span class="line">  .default(<span class="string">"f"</span>, <span class="string">"/etc/passwd"</span>)</span><br><span class="line">  .describe(<span class="string">"f"</span>, <span class="string">"x marks the spot"</span>)</span><br><span class="line">  .string(<span class="string">"f"</span>).argv;</span><br></pre></td></tr></table></figure>
<p>还可以这样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).options(&#123;</span><br><span class="line">  f: &#123;</span><br><span class="line">    alias: <span class="string">"file"</span>,</span><br><span class="line">    demandOption: <span class="literal">true</span>,</span><br><span class="line">    <span class="keyword">default</span>: <span class="string">"/etc/passwd"</span>,</span><br><span class="line">    describe: <span class="string">"x marks the spot"</span>,</span><br><span class="line">    type: <span class="string">"string"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).argv;</span><br></pre></td></tr></table></figure>
<p>可用的 key 有以下这些</p>
<ul>
<li>alias</li>
<li>array</li>
<li>boolean</li>
<li>choices</li>
<li>coerce</li>
<li>config</li>
<li>configParser</li>
<li>conflicts</li>
<li>count</li>
<li>default</li>
<li>defaultDescription</li>
<li>demandOption</li>
<li>desc/describe/description</li>
<li>global</li>
<li>group</li>
<li>hidden</li>
<li>implies</li>
<li>nargs</li>
<li>normalize</li>
<li>number</li>
<li>requiresArg</li>
<li>skipValidation</li>
<li>string</li>
<li>type: ‘array’,’boolean’,’count’,’number’,’string’</li>
</ul>
<h4 id="parse-args-context-parseCallback"><a href="#parse-args-context-parseCallback" class="headerlink" title=".parse([args], [context], [parseCallback])"></a>.parse([args], [context], [parseCallback])</h4><p>可以替代从<code>process.argv</code>传参，返回 argv 对象。args 可以是数组或者原生参数字符串。</p>
<p>context：可以同时携带的一个对象参数，可以为命令提供状态信息，是很实用的技术。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> parser = yargs</span><br><span class="line">  .command(</span><br><span class="line">    <span class="string">"lunch-train &lt;restaurant&gt;"</span>,</span><br><span class="line">    <span class="string">"start lunch train"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">argv</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(argv.restaurant, argv.time);</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .parse(<span class="string">"lunch-train rudy's"</span>, &#123; <span class="attr">time</span>: <span class="string">"12:15"</span> &#125;);</span><br></pre></td></tr></table></figure>
<p>parseCallback: 此方法的回调函数，会携带三个参数</p>
<ol>
<li>err: 转化中出现的验证错误</li>
<li>argv: 转化的 argv 对象</li>
<li>output: 将要在终端输出的文本</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// providing the `fn` argument to `parse()` runs yargs in headless mode, this</span></span><br><span class="line"><span class="comment">// makes it easy to use yargs in contexts other than the CLI, e.g., writing</span></span><br><span class="line"><span class="comment">// a chat-bot.</span></span><br><span class="line"><span class="keyword">const</span> parser = yargs</span><br><span class="line">  .command(</span><br><span class="line">    <span class="string">"lunch-train &lt;restaurant&gt; &lt;time&gt;"</span>,</span><br><span class="line">    <span class="string">"start lunch train"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">argv</span>) </span>&#123;</span><br><span class="line">      api.scheduleLunch(argv.restaurant, moment(argv.time));</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  .help();</span><br><span class="line"></span><br><span class="line">parser.parse(bot.userText, <span class="function"><span class="keyword">function</span>(<span class="params">err, argv, output</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (output) bot.respond(output);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><em>提醒:</em> 给 parse 函数回调参数会导致 <code>exitProcess</code> 设置失效，直至回调调用</p>
<h4 id="pkgConf-key-cwd"><a href="#pkgConf-key-cwd" class="headerlink" title=".pkgConf(key, [cwd])"></a>.pkgConf(key, [cwd])</h4><p>类似于 <code>.config()</code>，这表明 yargs 从 package.json 中寻找特定的配置对象</p>
<p><code>cwd</code>可以选择性地提供，package.json 将从这里读取</p>
<h4 id="positional-key-opt"><a href="#positional-key-opt" class="headerlink" title=".positional(key, opt)"></a>.positional(key, opt)</h4><blockquote>
<p>这个我尝试了，但是没泡通</p>
</blockquote>
<p>对命令的参数进行配置，类似于 <code>.option()</code>，但是不能作用于顶层 yargs 实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)(<span class="string">"run --help"</span>).command(</span><br><span class="line">  <span class="string">"run &lt;port&gt; &lt;guid&gt;"</span>,</span><br><span class="line">  <span class="string">"run the server"</span>,</span><br><span class="line">  yargs =&gt; &#123;</span><br><span class="line">    yargs.positional(<span class="string">"guid"</span>, &#123;</span><br><span class="line">      describe: <span class="string">"a unique identifier for the server"</span>,</span><br><span class="line">      type: <span class="string">"string"</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">).argv;</span><br><span class="line"><span class="built_in">console</span>.log(argv);</span><br></pre></td></tr></table></figure>
<p>可选的参数有：</p>
<ul>
<li>alias</li>
<li>choices</li>
<li>coerce</li>
<li>confilicts</li>
<li>default</li>
<li>desc/describe/description</li>
<li>implies</li>
<li>normalize</li>
<li>type: ‘boolean’,’number’,’string’</li>
</ul>
<h4 id="recommendCommands"><a href="#recommendCommands" class="headerlink" title=".recommendCommands()"></a>.recommendCommands()</h4><p>决定 yargs 是否在没有匹配命令的时候，提示相关的类似命令</p>
<h4 id="require-key-msg-boolean-required-key-msg-boolean"><a href="#require-key-msg-boolean-required-key-msg-boolean" class="headerlink" title=".require(key, [msg | boolean]) .required(key, [msg | boolean])"></a>.require(key, [msg | boolean]) .required(key, [msg | boolean])</h4><p>同 <code>.demand()</code></p>
<h4 id="requiresArg-key"><a href="#requiresArg-key" class="headerlink" title=".requiresArg(key)"></a>.requiresArg(key)</h4><p>可以接收数组或者字符串</p>
<p>规定所有的 key 后面必须要跟 value，否则，现实用法信心并退出</p>
<p>默认如果 key 后面不跟 value，key 赋值为 true</p>
<h4 id="reset-已废弃"><a href="#reset-已废弃" class="headerlink" title=".reset() [已废弃]"></a>.reset() [已废弃]</h4><p>重置所有已经构建的参数。对于嵌套命令行接口特别有用。使用 global 避免不想要重置的 keys 被重置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yargs = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">    .usage(<span class="string">"$0 command"</span>)</span><br><span class="line">    .command(<span class="string">"hello"</span>, <span class="string">"hello command"</span>)</span><br><span class="line">    .command(<span class="string">"world"</span>, <span class="string">"world command"</span>)</span><br><span class="line">    .demandCommand(<span class="number">1</span>, <span class="string">"must provide a valid command"</span>),</span><br><span class="line">  argv = yargs.argv,</span><br><span class="line">  command = argv._[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (command === <span class="string">"hello"</span>) &#123;</span><br><span class="line">  yargs</span><br><span class="line">    .reset()</span><br><span class="line">    .usage(<span class="string">"$0 hello"</span>)</span><br><span class="line">    .help(<span class="string">"h"</span>)</span><br><span class="line">    .example(<span class="string">"$0 hello"</span>, <span class="string">"print the hello message!"</span>).argv;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"hello!"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (command === <span class="string">"world"</span>) &#123;</span><br><span class="line">  yargs</span><br><span class="line">    .reset()</span><br><span class="line">    .usage(<span class="string">"$0 world"</span>)</span><br><span class="line">    .help(<span class="string">"h"</span>)</span><br><span class="line">    .example(<span class="string">"$0 world"</span>, <span class="string">"print the world message!"</span>).argv;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"world!"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  yargs.showHelp();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="showCompletionScript"><a href="#showCompletionScript" class="headerlink" title=".showCompletionScript()"></a>.showCompletionScript()</h4><p>生成一个补全脚本。应用的使用者可以在他们的<code>.bashrc</code>中安装，yargs 会提供命令和参数补全的快捷方式</p>
<h4 id="showHelp-consoleLevel-’error’"><a href="#showHelp-consoleLevel-’error’" class="headerlink" title=".showHelp(consoleLevel=’error’)"></a>.showHelp(consoleLevel=’error’)</h4><p>实用 console 的<code>consoleLevel</code>打印使用数据</p>
<p>Example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yargs = <span class="built_in">require</span>(<span class="string">"yargs"</span>).usage(</span><br><span class="line">  <span class="string">"$0 -operand1 number -operand2 number -operation [add|subtract]"</span></span><br><span class="line">);</span><br><span class="line">yargs.showHelp(); <span class="comment">//prints to stderr using console.error()</span></span><br></pre></td></tr></table></figure>
<p>或者，使用标准输出打印使用信息，可以选择<code>console.log</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yargs.showHelp(<span class="string">"log"</span>); <span class="comment">//prints to stdout using console.log()</span></span><br></pre></td></tr></table></figure>
<h4 id="showHelpOnFail-enable-message"><a href="#showHelpOnFail-enable-message" class="headerlink" title=".showHelpOnFail(enable, [message])"></a>.showHelpOnFail(enable, [message])</h4><p>默认，yargs 检测到错误会输出使用信息。我们可以使用这个方法定制行为。enable 为 false 的时候，使用信息不输出。如果 message 参数存在，这个信息会在错误信息之后输出。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .usage(<span class="string">"Count the lines in a file.\nUsage: $0 -f &lt;file&gt;"</span>)</span><br><span class="line">  .demandOption(<span class="string">"f"</span>)</span><br><span class="line">  .alias(<span class="string">"f"</span>, <span class="string">"file"</span>)</span><br><span class="line">  .describe(<span class="string">"f"</span>, <span class="string">"Load a file"</span>)</span><br><span class="line">  .string(<span class="string">"f"</span>)</span><br><span class="line">  .showHelpOnFail(<span class="literal">false</span>, <span class="string">"Specify --help for available options"</span>)</span><br><span class="line">  .help(<span class="string">"help"</span>).argv;</span><br><span class="line"></span><br><span class="line"><span class="comment">// etc.</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ node line_count.js</span><br><span class="line">Missing argument value: f</span><br><span class="line"></span><br><span class="line">Specify --help <span class="keyword">for</span> available options</span><br></pre></td></tr></table></figure>
<h4 id="skipValidation-key"><a href="#skipValidation-key" class="headerlink" title=".skipValidation(key)"></a>.skipValidation(key)</h4><p>指定一些选项，跳过验证</p>
<h4 id="strict-enabled-true"><a href="#strict-enabled-true" class="headerlink" title=".strict([enabled=true])"></a>.strict([enabled=true])</h4><p>如果所有的参数都没有被<code>demand</code>, 或者都没有一个正确的描述，这将会被当成错误报告出来</p>
<p>不被认可的命令依然会被当作错误报告出来</p>
<h4 id="string-key"><a href="#string-key" class="headerlink" title=".string(key)"></a>.string(key)</h4><p>告诉 parser 不要将 key 当成数字或布尔值来转换</p>
<h4 id="updateLocale-obj-updateStrings-obj"><a href="#updateLocale-obj-updateStrings-obj" class="headerlink" title=".updateLocale(obj) .updateStrings(obj)"></a>.updateLocale(obj) .updateStrings(obj)</h4><p><em>没有测试通过</em></p>
<p>覆盖默认的字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>)</span><br><span class="line">  .command(<span class="string">"run"</span>, <span class="string">"the run command"</span>)</span><br><span class="line">  .help(<span class="string">"help"</span>)</span><br><span class="line">  .updateStrings(&#123;</span><br><span class="line">    <span class="string">"Commands:"</span>: <span class="string">"My Commands --&gt;\n"</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .wrap(<span class="literal">null</span>).argv;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">My Commands --&gt;</span><br><span class="line"></span><br><span class="line">  run  the run command</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  --help  Show help  [boolean]</span><br></pre></td></tr></table></figure>
<p>如果特定了一个<code>locale()</code>, 应该在<code>updateStrings()</code>之前调用</p>
<h4 id="usage-lt-message-command-gt-desc-builder-handler"><a href="#usage-lt-message-command-gt-desc-builder-handler" class="headerlink" title=".usage(&lt;message|command&gt;, [desc], [builder], [handler])"></a>.usage(&lt;message|command&gt;, [desc], [builder], [handler])</h4><p>设置显示哪一条命令的使用信息。在 message 中，<code>$0</code>会被转译成脚本名字，node 命令等。</p>
<p>如果 <code>desc/builder/handler</code> 等参数提供了，此方法相当于 <code>.command</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> argv = <span class="built_in">require</span>(<span class="string">"yargs"</span>).usage(</span><br><span class="line">  <span class="string">"$0 &lt;port&gt;"</span>,</span><br><span class="line">  <span class="string">"start the application server"</span>,</span><br><span class="line">  yargs =&gt; &#123;</span><br><span class="line">    yargs.positional(<span class="string">"port"</span>, &#123;</span><br><span class="line">      describe: <span class="string">"the port that your application should bind to"</span>,</span><br><span class="line">      type: <span class="string">"number"</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">).argv;</span><br></pre></td></tr></table></figure>
<h4 id="version-version-version-boolean-version-option-description-version"><a href="#version-version-version-boolean-version-option-description-version" class="headerlink" title=".version() .version([version|boolean]) .version([option], [description], [version])"></a>.version() .version([version|boolean]) .version([option], [description], [version])</h4><p>设置显示的版本号并退出程序。默认支持 –version。</p>
<p>如果没有参数传入，yargs 会从 package.json 中寻找 version 值</p>
<p>如果传入布尔值 <code>false</code>, 将会禁掉 –version</p>
<h4 id="wrap-columns"><a href="#wrap-columns" class="headerlink" title=".wrap(columns)"></a>.wrap(columns)</h4><p>格式化使用信息的展示 – 多少列</p>
<p>默认的 wrap 是<code>Math.min(80, windowWidth)</code>, 使用<code>.wrap(null)</code>去掉列限制。使用<code>.wrap(yargs.terminalWidth())</code>控制显示信息为最大宽度。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/08/30/thingking-in-react/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/30/thingking-in-react/" itemprop="url">thingking-in-react</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-30T10:54:28+08:00">
                2017-08-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>所谓齐其家在修其身者，人之其所亲爱而辟焉，之其所贱恶而辟焉，之其所畏敬而辟焉，之其所哀矜而辟焉。故好而知其恶，恶而知其美者，天下鲜矣。故谚有之曰：“人莫知其子之恶，莫知其苗之硕。”此谓身不修不可以齐其家。</p>
<p>–《大学》</p>
<h3 id="思想"><a href="#思想" class="headerlink" title="思想"></a>思想</h3><p>单一功能原则：此规则规定每个类都应该有一个单一的功能，并且该功能应该由这个类完全封装起来。所有它的服务都应该严密的和该功能平行（功能平行，意味着没有依赖）</p>
<p>相应react组件：理论上一个组件应该只做一件事，如果要扩展，应该被拆分到更小的组件。</p>
<p>根据ui拆分组件是没有必要的，根据json数据拆分数据是合理的</p>
<p>DRY：Don’t Repeat Yourself</p>
<p>辨别什么是一个state：</p>
<ul>
<li>是否从父组件props传递，如果是，那不是state</li>
<li>是否一直不变，如果是，那不是state</li>
<li>是否能从其他state计算得到，如果是，那不是state</li>
</ul>
<p>单向数据流：优势是数据流很清晰，缺点是交互的动态实现需要更多一点代码</p>
<p>使用ref的场景</p>
<ul>
<li>处理焦点，区域选择，媒体播放</li>
<li>触发动画</li>
<li>配合第三方库</li>
</ul>
<p>react diff 算法</p>
<blockquote>
<p><a href="http://grfia.dlsi.ua.es/ml/algorithms/references/editsurvey_bille.pdf" target="_blank" rel="noopener">普通树变动为什么是o(n3)的算法复杂度</a></p>
</blockquote>
<p>react算法的两个设想</p>
<ul>
<li>两个不同类型的tree会生成不同的树</li>
<li>通过不同的key可以得知在不同的渲染过程中哪个元素是不变的</li>
</ul>
<p>diff 算法</p>
<p><strong>不同类型的元素</strong></p>
<p>根元素的不同类型会导致整体重绘</p>
<p><strong>相同类型的dom元素</strong></p>
<p>react会检查它们的属性是否相同，如果不相同，则仅仅更新它的属性，之后递归的对子元素进行操作</p>
<p><strong>子代的递归操作</strong><br>react按顺序比较<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;first&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;second&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;first&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;second&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;third&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">这种情况，react只会在末尾插入&lt;li&gt;third&lt;/li&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;Duke&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;Villanova&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;Connecticut&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;Duke&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;Villanova&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">这种情况，react会更新所有元素</span><br></pre></td></tr></table></figure>
<p><strong>keys</strong></p>
<p>keys可以解决上述的低效操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li key=&quot;2015&quot;&gt;Duke&lt;/li&gt;</span><br><span class="line">  &lt;li key=&quot;2016&quot;&gt;Villanova&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li key=&quot;2014&quot;&gt;Connecticut&lt;/li&gt;</span><br><span class="line">  &lt;li key=&quot;2015&quot;&gt;Duke&lt;/li&gt;</span><br><span class="line">  &lt;li key=&quot;2016&quot;&gt;Villanova&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">这种情况，react会认为带有&apos;2014&apos;的key的元素是新的，其他元素仅仅是移动了</span><br></pre></td></tr></table></figure></p>
<p>所以可以给数组元素加上等于下标顺序的key，但如果重排顺序的话，将会很慢</p>
<p>假定情形不使用的状况，算法就很吃力了</p>
<ul>
<li>算法会忽略掉不同类型的组件，即使他们有相似的输出。不过在实践中，没有相关issue</li>
<li>keys应该稳定，可预知，并且是独特的，不稳定的key会导致dom节点没有必要的重绘，并且容易丢失子组件的状态。</li>
</ul>
<p><strong>高阶组件</strong></p>
<p>定义：高阶组件就是一个函数，接收一个组件，返回一个新组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const EnhancedComponent = higherOrderComponent(WrappedComponent);</span><br></pre></td></tr></table></figure></p>
<p>高阶组件普遍存在于react第三方库中，例如：redux的connect和relay的createcontainer</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">class CommentList extends React.Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.handleChange = this.handleChange.bind(this);</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      // &quot;DataSource&quot; is some global data source</span><br><span class="line">      comments: DataSource.getComments()</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    // Subscribe to changes</span><br><span class="line">    DataSource.addChangeListener(this.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    // Clean up listener</span><br><span class="line">    DataSource.removeChangeListener(this.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange() &#123;</span><br><span class="line">    // Update component state whenever the data source changes</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      comments: DataSource.getComments()</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;this.state.comments.map((comment) =&gt; (</span><br><span class="line">          &lt;Comment comment=&#123;comment&#125; key=&#123;comment.id&#125; /&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class BlogPost extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.handleChange = this.handleChange.bind(this);</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      blogPost: DataSource.getBlogPost(props.id)</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    DataSource.addChangeListener(this.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    DataSource.removeChangeListener(this.handleChange);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      blogPost: DataSource.getBlogPost(this.props.id)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;TextBlock text=&#123;this.state.blogPost&#125; /&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const CommentListWithSubscription = withSubscription(</span><br><span class="line">  CommentList,</span><br><span class="line">  (DataSource) =&gt; DataSource.getComments()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">const BlogPostWithSubscription = withSubscription(</span><br><span class="line">  BlogPost,</span><br><span class="line">  (DataSource, props) =&gt; DataSource.getBlogPost(props.id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// This function takes a component...</span><br><span class="line">function withSubscription(WrappedComponent, selectData) &#123;</span><br><span class="line">  // ...and returns another component...</span><br><span class="line">  return class extends React.Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">      super(props);</span><br><span class="line">      this.handleChange = this.handleChange.bind(this);</span><br><span class="line">      this.state = &#123;</span><br><span class="line">        data: selectData(DataSource, props)</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">      // ... that takes care of the subscription...</span><br><span class="line">      DataSource.addChangeListener(this.handleChange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillUnmount() &#123;</span><br><span class="line">      DataSource.removeChangeListener(this.handleChange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    handleChange() &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        data: selectData(DataSource, this.props)</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">      // ... and renders the wrapped component with the fresh data!</span><br><span class="line">      // Notice that we pass through any additional props</span><br><span class="line">      return &lt;WrappedComponent data=&#123;this.state.data&#125; &#123;...this.props&#125; /&gt;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>不要改变原始组件，使用合成手段，不要在render方法中使用高阶组件</p>
</blockquote>
<p><strong>合成事件</strong></p>
<p>合成事件的属性<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">boolean bubbles</span><br><span class="line">boolean cancelable</span><br><span class="line">DOMEventTarget currentTarget</span><br><span class="line">boolean defaultPrevented</span><br><span class="line">number eventPhase</span><br><span class="line">boolean isTrusted</span><br><span class="line">DOMEvent nativeEvent</span><br><span class="line"><span class="keyword">void</span> preventDefault()</span><br><span class="line">boolean isDefaultPrevented()</span><br><span class="line"><span class="keyword">void</span> stopPropagation()</span><br><span class="line">boolean isPropagationStopped()</span><br><span class="line">DOMEventTarget target</span><br><span class="line">number timeStamp</span><br><span class="line">string type</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/08/23/java-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/23/java-note/" itemprop="url">java_note_01</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-23T17:35:35+08:00">
                2017-08-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>所谓修身在正其心者，身有所忿懥，则不得其正，有所恐惧，则不得其正，有所好乐，则不得其正，有所忧患，则不得其正。心不在焉，视而不见，听而不闻，食而不知其味。此谓修身在正其心。</p>
<p>–《大学》</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><ul>
<li>大小写敏感</li>
<li>类名：首写字母应该大写，驼峰命名</li>
<li>方法名：所有方法名都应该小写开头，驼峰命名</li>
<li>源文件名：源文件名必须和类名相同。当保存文件的时候，你应该使用类名作为文件保存（文件名和类名不同会导致编译错误！）</li>
<li>主方法入口：所有的java程序由public static void main(String []args)方法开始执行。</li>
</ul>
<h3 id="java标识符"><a href="#java标识符" class="headerlink" title="java标识符"></a>java标识符</h3><ul>
<li>字母，美元符号，下划线开头</li>
<li>首字符之后可以是字母，美元符号，下划线或数字的任何字符组合</li>
<li>关键字不能用作标志符</li>
</ul>
<h3 id="java修饰符"><a href="#java修饰符" class="headerlink" title="java修饰符"></a>java修饰符</h3><ul>
<li>访问控制修饰符： default，public，protected，private</li>
<li>非访问控制修饰符：final，abstract，strictfp</li>
</ul>
<h3 id="java变量"><a href="#java变量" class="headerlink" title="java变量"></a>java变量</h3><ul>
<li>局部变量</li>
<li>类变量</li>
<li>成员变量</li>
</ul>
<h3 id="java数组"><a href="#java数组" class="headerlink" title="java数组"></a>java数组</h3><p>数组是储存在堆上的对象，可以保存多个同类型变量</p>
<h3 id="java枚举"><a href="#java枚举" class="headerlink" title="java枚举"></a>java枚举</h3><p>枚举类型限制变量只能是预先设定好的值。使用枚举可以减少代码中的bug。</p>
<h3 id="java关键字"><a href="#java关键字" class="headerlink" title="java关键字"></a>java关键字</h3><p>abstract, assert, boolean, break, byte, case, catch, char, class, const, continue, default, do, double, else, enum, extends, final, finally, float, for, goto, if, implements, import, instanceof, int, interface, long, native, new, package, private, protected, public, return, short, static, strictfp, super, switch, synchronized, this, throw, throws, transient, try, void, volatile, while</p>
<h3 id="java注释"><a href="#java注释" class="headerlink" title="java注释"></a>java注释</h3><p>同时支持单行和多行注释</p>
<h3 id="继承和接口"><a href="#继承和接口" class="headerlink" title="继承和接口"></a>继承和接口</h3><p>继承：一个类可以由其他类派神。如果你要创建一个类，而且已经存在一个类具有你所需要的属性或方法，那么你可以将新创建的类继承该类。</p>
<p>接口：接口可以理解为对象间相互通信的协议。接口在继承中扮演很重要的角色。接口只定义派生要用到的方法，但是方法的具体实现完全取决于派生类。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bullyork.github.io/2017/08/17/moment/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱世天狼">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="缘来我们在这里">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/17/moment/" itemprop="url">moment</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-17T15:38:49+08:00">
                2017-08-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">乱世天狼</p>
              <p class="site-description motion-element" itemprop="description">乱世天狼 | 前端 | html | css | html5 | css3 | react | redux | webpack | 哲学 | 精神 | 生活</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">67</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">48</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">乱世天狼</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
